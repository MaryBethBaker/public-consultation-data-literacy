<!DOCTYPE html>
<html>
<head>
	<style>

	</style>

	<script
  src="https://code.jquery.com/jquery-3.2.1.js"
  integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
  crossorigin="anonymous"></script>

<script
  src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"
  integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
  crossorigin="anonymous"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>


	<link href="tabulator-master/dist/css/bootstrap/tabulator_bootstrap.min.css" rel="stylesheet">
	<script type="text/javascript" src="tabulator-master/dist/js/tabulator.min.js"></script>

	<!--
	<script type="text/javascript" src="tabulator-master/dist/js/jquery_wrapper.js"></script>
	<script type="text/javascript" src="tabulator-master/dist/js/jquery_wrapper.min.js"></script>
	-->

</head>
<body>
	<div id="example-table"></div>

	<button id="a" onclick="deleteCol(0)">Column 1</button>
	<button id="b" onclick="deleteCol(1)">Column 2</button>
	<button id="c" onclick="deleteCol(2)">Column 3</button>
	<button id="d" onclick="deleteCol(3)">Column 4</button>

	<script>

		//load json data
		var url = "https://hannahker.github.io/data/sample.json";
		var request = new XMLHttpRequest();
		request.open('GET', url);
		request.responseType = 'json';
		request.send();
		

		request.onload = function() {

			var data = request.response;
			var colHeaders = Object.keys(data[0])
			console.log(colHeaders[3]);
			console.log(colHeaders[4]);
			//create Tabulator on DOM element with id "example-table"
			var table = new Tabulator("#example-table", {
			 	height:500, // set height of table (in CSS or here), this enables the Virtual DOM and improves render speed dramatically (can be any valid css height value)
			 	data:data, //assign data to table
			 	layout:"fitColumns", //fit columns to width of table (optional)
			 	resizableRows:true,
			 	pagination: "local",
			 	paginationSize: 13,
			 	columns:[ //Define Table Columns
			 		{title:colHeaders[0], field: colHeaders[0], cellClick:function(e, cell){
					    cell.getRow().delete();
					}},
				 	{title:colHeaders[1], field:colHeaders[1], tooltip: "This is a column"},
				 	{title:colHeaders[2], field:colHeaders[2], align:"left"},
				 	{title:colHeaders[3], field:colHeaders[3], formatter: "textarea"},
				 	{title:colHeaders[4], field:colHeaders[4], formatter: "textarea"},
				 	{title:colHeaders[5], field:colHeaders[4], formatter: "textarea"},
				 	{title:colHeaders[6], field:colHeaders[6]},
				 	{title:colHeaders[7], field:colHeaders[7]},
				 	{title:colHeaders[8], field:colHeaders[8], align:"center"},
			 	],

			});
			//get column components 
			var cols = table.getColumns();

			//function to delete columns based on the column index
			function deleteCol(col){
				cols[col].hide();
			}


		}
		//define some sample data
		 

		


		//var Tabulator = require('tabulator-tables');

	</script>

</body>
</html>
